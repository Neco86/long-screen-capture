(self.webpackChunklongScreenCaptrue=self.webpackChunklongScreenCaptrue||[]).push([[371],{38447:function(F){F.exports={container:"container___25KpS",imgWrapper:"imgWrapper___1H15N",bgWrapper:"bgWrapper___3a88B",bgActiveWrapper:"bgActiveWrapper___3A124",resizer:"resizer___1GnU4",topResizer:"topResizer___3xUNS",bottomResizer:"bottomResizer___3pxMW",activeResizer:"activeResizer___1ekuG"}},51278:function(F){F.exports={container:"container___3oKHD",progress:"progress___1gzRd"}},84265:function(F){F.exports={choosePageContainer:"choosePageContainer___3KpA-",videoWrapper:"videoWrapper___1xgwY"}},64203:function(F){F.exports={container:"container___3cU_Y",wrapper:"wrapper___3m6Dk",reloadButton:"reloadButton___39SDT",downloadButton:"downloadButton___295f6"}},675:function(F,we,w){"use strict";w.r(we),w.d(we,{PAGE:function(){return q},default:function(){return _t}});var V=w(2824),l=w(67294),_e=w(58954);function G(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */G=function(){return a};var a={},n=Object.prototype,r=n.hasOwnProperty,e=typeof Symbol=="function"?Symbol:{},t=e.iterator||"@@iterator",i=e.asyncIterator||"@@asyncIterator",d=e.toStringTag||"@@toStringTag";function c(s,o,h){return Object.defineProperty(s,o,{value:h,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{c({},"")}catch(s){c=function(h,f,v){return h[f]=v}}function u(s,o,h,f){var v=o&&o.prototype instanceof C?o:C,p=Object.create(v.prototype),T=new L(f||[]);return p._invoke=function(D,B,Z){var M="suspendedStart";return function($,Y){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if($==="throw")throw Y;return W()}for(Z.method=$,Z.arg=Y;;){var _=Z.delegate;if(_){var z=A(_,Z);if(z){if(z===E)continue;return z}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(M==="suspendedStart")throw M="completed",Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);M="executing";var K=m(D,B,Z);if(K.type==="normal"){if(M=Z.done?"completed":"suspendedYield",K.arg===E)continue;return{value:K.arg,done:Z.done}}K.type==="throw"&&(M="completed",Z.method="throw",Z.arg=K.arg)}}}(s,h,T),p}function m(s,o,h){try{return{type:"normal",arg:s.call(o,h)}}catch(f){return{type:"throw",arg:f}}}a.wrap=u;var E={};function C(){}function P(){}function g(){}var O={};c(O,t,function(){return this});var I=Object.getPrototypeOf,y=I&&I(I(N([])));y&&y!==n&&r.call(y,t)&&(O=y);var S=g.prototype=C.prototype=Object.create(O);function x(s){["next","throw","return"].forEach(function(o){c(s,o,function(h){return this._invoke(o,h)})})}function j(s,o){function h(v,p,T,D){var B=m(s[v],s,p);if(B.type!=="throw"){var Z=B.arg,M=Z.value;return M&&(0,_e.Z)(M)=="object"&&r.call(M,"__await")?o.resolve(M.__await).then(function($){h("next",$,T,D)},function($){h("throw",$,T,D)}):o.resolve(M).then(function($){Z.value=$,T(Z)},function($){return h("throw",$,T,D)})}D(B.arg)}var f;this._invoke=function(v,p){function T(){return new o(function(D,B){h(v,p,D,B)})}return f=f?f.then(T,T):T()}}function A(s,o){var h=s.iterator[o.method];if(h===void 0){if(o.delegate=null,o.method==="throw"){if(s.iterator.return&&(o.method="return",o.arg=void 0,A(s,o),o.method==="throw"))return E;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var f=m(h,s.iterator,o.arg);if(f.type==="throw")return o.method="throw",o.arg=f.arg,o.delegate=null,E;var v=f.arg;return v?v.done?(o[s.resultName]=v.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=void 0),o.delegate=null,E):v:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,E)}function b(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function k(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function L(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(b,this),this.reset(!0)}function N(s){if(s){var o=s[t];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var h=-1,f=function v(){for(;++h<s.length;)if(r.call(s,h))return v.value=s[h],v.done=!1,v;return v.value=void 0,v.done=!0,v};return f.next=f}}return{next:W}}function W(){return{value:void 0,done:!0}}return P.prototype=g,c(S,"constructor",g),c(g,"constructor",P),P.displayName=c(g,d,"GeneratorFunction"),a.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return!!o&&(o===P||(o.displayName||o.name)==="GeneratorFunction")},a.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,g):(s.__proto__=g,c(s,d,"GeneratorFunction")),s.prototype=Object.create(S),s},a.awrap=function(s){return{__await:s}},x(j.prototype),c(j.prototype,i,function(){return this}),a.AsyncIterator=j,a.async=function(s,o,h,f,v){v===void 0&&(v=Promise);var p=new j(u(s,o,h,f),v);return a.isGeneratorFunction(o)?p:p.next().then(function(T){return T.done?T.value:p.next()})},x(S),c(S,d,"Generator"),c(S,t,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),a.keys=function(s){var o=[];for(var h in s)o.push(h);return o.reverse(),function f(){for(;o.length;){var v=o.pop();if(v in s)return f.value=v,f.done=!1,f}return f.done=!0,f}},a.values=N,L.prototype={constructor:L,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!o)for(var h in this)h.charAt(0)==="t"&&r.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var h=this;function f(Z,M){return T.type="throw",T.arg=o,h.next=Z,M&&(h.method="next",h.arg=void 0),!!M}for(var v=this.tryEntries.length-1;v>=0;--v){var p=this.tryEntries[v],T=p.completion;if(p.tryLoc==="root")return f("end");if(p.tryLoc<=this.prev){var D=r.call(p,"catchLoc"),B=r.call(p,"finallyLoc");if(D&&B){if(this.prev<p.catchLoc)return f(p.catchLoc,!0);if(this.prev<p.finallyLoc)return f(p.finallyLoc)}else if(D){if(this.prev<p.catchLoc)return f(p.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return f(p.finallyLoc)}}}},abrupt:function(o,h){for(var f=this.tryEntries.length-1;f>=0;--f){var v=this.tryEntries[f];if(v.tryLoc<=this.prev&&r.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var p=v;break}}p&&(o==="break"||o==="continue")&&p.tryLoc<=h&&h<=p.finallyLoc&&(p=null);var T=p?p.completion:{};return T.type=o,T.arg=h,p?(this.method="next",this.next=p.finallyLoc,E):this.complete(T)},complete:function(o,h){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&h&&(this.next=h),E},finish:function(o){for(var h=this.tryEntries.length-1;h>=0;--h){var f=this.tryEntries[h];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),k(f),E}},catch:function(o){for(var h=this.tryEntries.length-1;h>=0;--h){var f=this.tryEntries[h];if(f.tryLoc===o){var v=f.completion;if(v.type==="throw"){var p=v.arg;k(f)}return p}}throw new Error("illegal catch attempt")},delegateYield:function(o,h,f){return this.delegate={iterator:N(o),resultName:h,nextLoc:f},this.method==="next"&&(this.arg=void 0),E}},a}var Se=w(86582);function Ie(a,n,r,e,t,i,d){try{var c=a[i](d),u=c.value}catch(m){r(m);return}c.done?n(u):Promise.resolve(u).then(e,t)}function Q(a){return function(){var n=this,r=arguments;return new Promise(function(e,t){var i=a.apply(n,r);function d(u){Ie(i,e,t,d,c,"next",u)}function c(u){Ie(i,e,t,d,c,"throw",u)}d(void 0)})}}var ue=[],le=function(n){var r=URL.createObjectURL(n);return ue.push(r),r},Pe=function(n){URL.revokeObjectURL(n)},et=function(){ue.forEach(Pe),ue=[]},tt=function(){var a=Q(G().mark(function n(r,e){var t,i,d;return G().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r.currentTime=e,u.next=3,new Promise(function(m){r.onseeked=function(){setTimeout(function(){m(r)},10)}});case 3:return t=document.createElement("canvas"),i=t.getContext("2d"),t.width=r.videoWidth,t.height=r.videoHeight,d="",u.next=10,new Promise(function(m){i.drawImage(r,0,0,t.width,t.height),t.toBlob(function(E){d=le(E),m(d)})});case 10:return u.abrupt("return",d);case 11:case"end":return u.stop()}},n)}));return function(r,e){return a.apply(this,arguments)}}(),nt=function(){var a=Q(G().mark(function n(r,e,t){var i,d,c,u,m;return G().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:i=[],d=Math.floor(r.duration/e)+1,c=0;case 3:if(!(c<=r.duration)){C.next=12;break}return t&&(u=Math.round(c/e+1),t(u,d)),C.next=7,tt(r,c);case 7:m=C.sent,i.push(m);case 9:c+=e,C.next=3;break;case 12:return C.abrupt("return",i);case 13:case"end":return C.stop()}},n)}));return function(r,e,t){return a.apply(this,arguments)}}(),rt=function(){var a=Q(G().mark(function n(r){var e,t,i,d,c;return G().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return e=r.video,t=r.src,i=r.onProcess,d=r.step,c=d===void 0?.5:d,m.abrupt("return",new Promise(function(E){e.src=t,e.onloadeddata=Q(G().mark(function C(){var P;return G().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return e.pause(),e.currentTime=0,O.next=4,nt(e,c,i);case 4:P=O.sent,E(P);case 6:case"end":return O.stop()}},C)}))}));case 2:case"end":return m.stop()}},n)}));return function(r){return a.apply(this,arguments)}}(),at=rt,U=w(8870),xe=new Worker("./worker.js"),ee={},Ne=function(n){return ee[n]||(ee[n]=new Promise(function(r){var e=new Image;e.onload=function(){r(e)},e.src=n})),ee[n]},ot=function(n,r){var e=document.createElement("canvas"),t=e.getContext("2d",{willReadFrequently:!0});e.width=n.width,e.height=n.height,t.drawImage(n,0,0);var i=t.getImageData(0,0,e.width,e.height);t.drawImage(r,0,0);var d=t.getImageData(0,0,e.width,e.height);return xe.postMessage({method:"getOffsetInfo",args:{data1:i,data2:d,counters1:n.counters,counters2:r.counters}}),new Promise(function(c){xe.onmessage=function(u){n.counters=u.data.counters1,r.counters=u.data.counters2,c(u.data)}})},it=function(){var a=Q(G().mark(function n(r){var e,t,i,d,c,u,m,E,C,P,g,O,I,y,S,x,j,A,b,k,L,N;return G().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=r.images,i=r.onProcess,d=[],c=t.length-1,u=0,m=0;case 5:if(!(m<t.length-1)){s.next=21;break}return i&&i(m+1,c),s.next=9,Ne(t[m]);case 9:return E=s.sent,s.next=12,Ne(t[m+1]);case 12:return C=s.sent,!u&&E.height&&(u=E.height),s.next=16,ot(E,C);case 16:P=s.sent,d.push(P);case 18:m++,s.next=5;break;case 21:for(g=[],O=0,I=0;I<d.length+1;I++)j=((y=d[I-1])===null||y===void 0?void 0:y.y2)||0,A=(((S=d[I-1])===null||S===void 0?void 0:S.y1)||0)-(((x=d[I-2])===null||x===void 0?void 0:x.y2)||0),O+=A,g.push({src:t[I],offset:O,start:j});for(g=g.sort(function(o,h){return o.offset-h.offset}),b=(e=g[0])===null||e===void 0?void 0:e.offset,b<0&&(g=g.map(function(o){return(0,U.Z)((0,U.Z)({},o),{},{offset:o.offset-b})})),k=[],L=0;L<g.length;L++)N=L===g.length-1?u-g[L].start:g[L+1].offset-g[L].offset,N&&(!k.length||g[L].start)&&k.push({src:g[L].src,top:g[L].start,bottom:g[L].start+N});return k.length||(k=t.map(function(o){return{src:o}})),s.abrupt("return",k);case 31:case"end":return s.stop()}},n)}));return function(r){return a.apply(this,arguments)}}(),fe=it,st=w(84265),Le=w.n(st),rn=w(57663),de=w(22122),H=w(96156),ke=w(28481),Oe=w(90484),ct=w(94184),Te=w.n(ct),ut=w(98423),te=w(86032),Ze=w(6610),lt=function a(n){return(0,Ze.Z)(this,a),new Error("unreachable case: ".concat(JSON.stringify(n)))},ft=function(a,n){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)n.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r},dt=function(n){return l.createElement(te.C,null,function(r){var e,t=r.getPrefixCls,i=r.direction,d=n.prefixCls,c=n.size,u=n.className,m=ft(n,["prefixCls","size","className"]),E=t("btn-group",d),C="";switch(c){case"large":C="lg";break;case"small":C="sm";break;case"middle":case void 0:break;default:console.warn(new lt(c))}var P=Te()(E,(e={},(0,H.Z)(e,"".concat(E,"-").concat(C),C),(0,H.Z)(e,"".concat(E,"-rtl"),i==="rtl"),e),u);return l.createElement("div",(0,de.Z)({},m,{className:P}))})},vt=dt,ht=w(5991),mt=w(63349),pt=w(10379),gt=w(44144),yt=w(13150),Re=w(42550),ve=w(75164),bt=0,X={};function ne(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=bt++,e=n;function t(){e-=1,e<=0?(a(),delete X[r]):X[r]=(0,ve.Z)(t)}return X[r]=(0,ve.Z)(t),r}ne.cancel=function(n){n!==void 0&&(ve.Z.cancel(X[n]),delete X[n])},ne.ids=X;var je=w(96159),he;function Ae(a){return!a||a.offsetParent===null||a.hidden}function Ct(a){var n=(a||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}var We=function(a){(0,pt.Z)(r,a);var n=(0,gt.Z)(r);function r(){var e;return(0,Ze.Z)(this,r),e=n.apply(this,arguments),e.containerRef=l.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,i){var d,c;if(!(!t||Ae(t)||t.className.indexOf("-leave")>=0)){var u=e.props.insertExtraNode;e.extraNode=document.createElement("div");var m=(0,mt.Z)(e),E=m.extraNode,C=e.context.getPrefixCls;E.className="".concat(C(""),"-click-animating-node");var P=e.getAttributeName();if(t.setAttribute(P,"true"),i&&i!=="#ffffff"&&i!=="rgb(255, 255, 255)"&&Ct(i)&&!/rgba\((?:\d*, ){3}0\)/.test(i)&&i!=="transparent"){E.style.borderColor=i;var g=((d=t.getRootNode)===null||d===void 0?void 0:d.call(t))||t.ownerDocument,O=g instanceof Document?g.body:(c=g.firstChild)!==null&&c!==void 0?c:g;he=(0,yt.hq)(`
      [`.concat(C(""),"-click-animating-without-extra-node='true']::after, .").concat(C(""),`-click-animating-node {
        --antd-wave-shadow-color: `).concat(i,`;
      }`),"antd-wave",{csp:e.csp,attachTo:O})}u&&t.appendChild(E),["transition","animation"].forEach(function(I){t.addEventListener("".concat(I,"start"),e.onTransitionStart),t.addEventListener("".concat(I,"end"),e.onTransitionEnd)})}},e.onTransitionStart=function(t){if(!e.destroyed){var i=e.containerRef.current;!t||t.target!==i||e.animationStart||e.resetEffect(i)}},e.onTransitionEnd=function(t){!t||t.animationName!=="fadeEffect"||e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(!(!t||!t.getAttribute||t.getAttribute("disabled")||t.className.indexOf("disabled")>=0)){var i=function(c){if(!(c.target.tagName==="INPUT"||Ae(c.target))){e.resetEffect(t);var u=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout(function(){return e.onClick(t,u)},0),ne.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=ne(function(){e.animationStart=!1},10)}};return t.addEventListener("click",i,!0),{cancel:function(){t.removeEventListener("click",i,!0)}}}},e.renderWave=function(t){var i=t.csp,d=e.props.children;if(e.csp=i,!l.isValidElement(d))return d;var c=e.containerRef;return(0,Re.Yr)(d)&&(c=(0,Re.sQ)(d.ref,e.containerRef)),(0,je.Tm)(d,{ref:c})},e}return(0,ht.Z)(r,[{key:"componentDidMount",value:function(){var t=this.containerRef.current;!t||t.nodeType!==1||(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var t=this.context.getPrefixCls,i=this.props.insertExtraNode;return i?"".concat(t(""),"-click-animating"):"".concat(t(""),"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(t){var i=this;if(!(!t||t===this.extraNode||!(t instanceof Element))){var d=this.props.insertExtraNode,c=this.getAttributeName();t.setAttribute(c,"false"),he&&(he.innerHTML=""),d&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),["transition","animation"].forEach(function(u){t.removeEventListener("".concat(u,"start"),i.onTransitionStart),t.removeEventListener("".concat(u,"end"),i.onTransitionEnd)})}}},{key:"render",value:function(){return l.createElement(te.C,null,this.renderWave)}}]),r}(l.Component);We.contextType=te.E_;var me=w(93355),Me=w(21687),Et=w(97647),wt=w(79612),Be=w(7085),pe=function(){return{width:0,opacity:0,transform:"scale(0)"}},ge=function(n){return{width:n.scrollWidth,opacity:1,transform:"scale(1)"}},St=function(n){var r=n.prefixCls,e=n.loading,t=n.existIcon,i=!!e;return t?l.createElement("span",{className:"".concat(r,"-loading-icon")},l.createElement(Be.Z,null)):l.createElement(wt.Z,{visible:i,motionName:"".concat(r,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:pe,onAppearActive:ge,onEnterStart:pe,onEnterActive:ge,onLeaveStart:ge,onLeaveActive:pe},function(d,c){var u=d.className,m=d.style;return l.createElement("span",{className:"".concat(r,"-loading-icon"),style:m,ref:c},l.createElement(Be.Z,{className:u}))})},It=St,Pt=function(a,n){var r={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(r[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(a);t<e.length;t++)n.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(a,e[t])&&(r[e[t]]=a[e[t]]);return r},ze=/^[\u4e00-\u9fa5]{2}$/,ye=ze.test.bind(ze);function xt(a){return typeof a=="string"}function re(a){return a==="text"||a==="link"}function Nt(a){return l.isValidElement(a)&&a.type===l.Fragment}function Lt(a,n){if(a!=null){var r=n?" ":"";return typeof a!="string"&&typeof a!="number"&&xt(a.type)&&ye(a.props.children)?(0,je.Tm)(a,{children:a.props.children.split("").join(r)}):typeof a=="string"?ye(a)?l.createElement("span",null,a.split("").join(r)):l.createElement("span",null,a):Nt(a)?l.createElement("span",null,a):a}}function kt(a,n){var r=!1,e=[];return l.Children.forEach(a,function(t){var i=(0,Oe.Z)(t),d=i==="string"||i==="number";if(r&&d){var c=e.length-1,u=e[c];e[c]="".concat(u).concat(t)}else e.push(t);r=d}),l.Children.map(e,function(t){return Lt(t,n)})}var an=(0,me.b)("default","primary","ghost","dashed","link","text"),on=(0,me.b)("circle","round"),sn=(0,me.b)("submit","button","reset");function cn(a){return a==="danger"?{danger:!0}:{type:a}}var Ot=function(n,r){var e,t=n.loading,i=t===void 0?!1:t,d=n.prefixCls,c=n.type,u=n.danger,m=n.shape,E=n.size,C=n.className,P=n.children,g=n.icon,O=n.ghost,I=O===void 0?!1:O,y=n.block,S=y===void 0?!1:y,x=n.htmlType,j=x===void 0?"button":x,A=Pt(n,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),b=l.useContext(Et.Z),k=l.useState(!!i),L=(0,ke.Z)(k,2),N=L[0],W=L[1],s=l.useState(!1),o=(0,ke.Z)(s,2),h=o[0],f=o[1],v=l.useContext(te.E_),p=v.getPrefixCls,T=v.autoInsertSpaceInButton,D=v.direction,B=r||l.createRef(),Z=l.useRef(),M=function(){return l.Children.count(P)===1&&!g&&!re(c)},$=function(){if(!(!B||!B.current||T===!1)){var ce=B.current.textContent;M()&&ye(ce)?h||f(!0):h&&f(!1)}},Y;(0,Oe.Z)(i)==="object"&&i.delay?Y=i.delay||!0:Y=!!i,l.useEffect(function(){clearTimeout(Z.current),typeof Y=="number"?Z.current=window.setTimeout(function(){W(Y)},Y):W(Y)},[Y]),l.useEffect($,[B]);var _=function(ce){var Ee,tn=n.onClick,nn=n.disabled;if(N||nn){ce.preventDefault();return}(Ee=tn)===null||Ee===void 0||Ee(ce)};(0,Me.Z)(!(typeof g=="string"&&g.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(g,"` at https://ant.design/components/icon")),(0,Me.Z)(!(I&&re(c)),"Button","`link` or `text` button can't be a `ghost` button.");var z=p("btn",d),K=T!==!1,se="";switch(E||b){case"large":se="lg";break;case"small":se="sm";break;default:break}var en=N?"loading":g,Fe=Te()(z,(e={},(0,H.Z)(e,"".concat(z,"-").concat(c),c),(0,H.Z)(e,"".concat(z,"-").concat(m),m),(0,H.Z)(e,"".concat(z,"-").concat(se),se),(0,H.Z)(e,"".concat(z,"-icon-only"),!P&&P!==0&&!!en),(0,H.Z)(e,"".concat(z,"-background-ghost"),I&&!re(c)),(0,H.Z)(e,"".concat(z,"-loading"),N),(0,H.Z)(e,"".concat(z,"-two-chinese-chars"),h&&K),(0,H.Z)(e,"".concat(z,"-block"),S),(0,H.Z)(e,"".concat(z,"-dangerous"),!!u),(0,H.Z)(e,"".concat(z,"-rtl"),D==="rtl"),e),C),Je=g&&!N?g:l.createElement(It,{existIcon:!!g,prefixCls:z,loading:!!N}),Ke=P||P===0?kt(P,M()&&K):null,Qe=(0,ut.Z)(A,["navigate"]);if(Qe.href!==void 0)return l.createElement("a",(0,de.Z)({},Qe,{className:Fe,onClick:_,ref:B}),Je,Ke);var Xe=l.createElement("button",(0,de.Z)({},A,{type:j,className:Fe,onClick:_,ref:B}),Je,Ke);return re(c)?Xe:l.createElement(We,null,Xe)},ae=l.forwardRef(Ot);ae.displayName="Button",ae.Group=vt,ae.__ANT_BUTTON=!0;var Tt=ae,be=Tt;function Zt(a,n){if(a==null)return{};var r={},e=Object.keys(a),t,i;for(i=0;i<e.length;i++)t=e[i],!(n.indexOf(t)>=0)&&(r[t]=a[t]);return r}function Ge(a,n){if(a==null)return{};var r=Zt(a,n),e,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(t=0;t<i.length;t++)e=i[t],!(n.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,e)||(r[e]=a[e]))}return r}var Rt=w(51278),De=w.n(Rt),R=w(85893),jt=["percent","children"],At=function(n){var r=n.percent,e=n.children,t=Ge(n,jt),i=(0,l.useMemo)(function(){return r?r>=100?{left:0}:{left:"".concat(r-100,"%")}:{}},[r]);return(0,R.jsxs)(be,(0,U.Z)((0,U.Z)({},t),{},{className:De().container,children:[e,(0,R.jsx)("div",{className:De().progress,style:i})]}))},Ce=(0,l.memo)(At),Wt=function(n){var r=n.setPage,e=n.setImgInfos,t=(0,l.useRef)(),i=(0,l.useState)(0),d=(0,V.Z)(i,2),c=d[0],u=d[1],m=(0,l.useState)(0),E=(0,V.Z)(m,2),C=E[0],P=E[1],g=(0,l.useCallback)(function(I){return function(){var y=document.createElement("input");y.type="file",y.accept="image/*",y.multiple=!0,y.style.display="none",y.addEventListener("change",function(){var S=Q(G().mark(function x(j){var A,b,k,L,N,W,s,o;return G().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(A=j.target.files||[],!A.length){f.next=23;break}if(b=(0,Se.Z)(A).map(function(v){return{src:le(v),lastModified:v.lastModified}}),!I){f.next=18;break}return k=b.sort(function(v,p){return v.lastModified-p.lastModified}),u(2),f.next=8,fe({images:k.map(function(v){return v.src}),onProcess:function(p,T){P(+(p/T*100).toFixed(0))}});case 8:return L=f.sent,N=L.reduce(function(v,p){return v+(p.bottom-p.top||0)},0),f.next=12,fe({images:(0,Se.Z)(k).map(function(v){return v.src}).reverse()});case 12:W=f.sent,s=W.reduce(function(v,p){return v+(p.bottom-p.top||0)},0),o=N>s?L:W,e(o),f.next=21;break;case 18:u(1),P(100),e(b);case 21:r(q.SLICE_PAGE),document.body.removeChild(y);case 23:case"end":return f.stop()}},x)}));return function(x){return S.apply(this,arguments)}}()),document.body.appendChild(y),y.click()}},[e,r]),O=(0,l.useCallback)(function(){var I=document.createElement("input");I.type="file",I.accept="video/*",I.addEventListener("change",function(){var y=Q(G().mark(function S(x){var j,A,b,k;return G().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(j=x.target.files||[],!j.length){N.next=14;break}return A=le(j[0]),u(3),N.next=6,at({video:t.current,src:A,onProcess:function(s,o){P(+(s/o*50).toFixed(0))}});case 6:return b=N.sent,N.next=9,fe({images:b,onProcess:function(s,o){P(+(s/o*50).toFixed(0)+50)}});case 9:k=N.sent,e(k),r(q.SLICE_PAGE),document.body.removeChild(I),Pe(A);case 14:case"end":return N.stop()}},S)}));return function(S){return y.apply(this,arguments)}}()),document.body.appendChild(I),I.click()},[e,r]);return(0,l.useEffect)(function(){var I=function(){t.current.play()};return document.addEventListener("WeixinJSBridgeReady",I),function(){document.removeEventListener("WeixinJSBridgeReady",I)}},[]),(0,R.jsxs)("div",{className:Le().choosePageContainer,children:[(0,R.jsx)(Ce,{percent:c===1?C:0,disabled:!!c,onClick:g(!1),children:"images"}),(0,R.jsx)(Ce,{percent:c===2?C:0,disabled:!!c,onClick:g(!0),children:"images(auto)"}),(0,R.jsx)(Ce,{percent:c===3?C:0,disabled:!!c,onClick:O,children:"video(auto)"}),(0,R.jsx)("div",{className:Le().videoWrapper,children:(0,R.jsx)("video",{ref:t,autoPlay:!0,muted:!0,playsInline:!0})})]})},Mt=Wt,Bt=w(64203),oe=w.n(Bt),zt=w(38447),J=w.n(zt),Gt=["onMove","baseInfo"],Ue=function(n){var r=n.onMove,e=n.baseInfo,t=Ge(n,Gt),i=(0,l.useState)(!1),d=(0,V.Z)(i,2),c=d[0],u=d[1],m=(0,l.useState)(0),E=(0,V.Z)(m,2),C=E[0],P=E[1],g=(0,l.useState)(null),O=(0,V.Z)(g,2),I=O[0],y=O[1],S=(0,l.useCallback)(function(b){var k,L,N,W=(k=b==null||(L=b.touches)===null||L===void 0||(N=L[0])===null||N===void 0?void 0:N.clientY)!==null&&k!==void 0?k:b==null?void 0:b.clientY;P(W),y(e),u(!0)},[e]),x=(0,l.useCallback)(function(b){if(b.preventDefault(),c){var k,L,N,W=(k=b==null||(L=b.touches)===null||L===void 0||(N=L[0])===null||N===void 0?void 0:N.clientY)!==null&&k!==void 0?k:b==null?void 0:b.clientY;r&&r(W-C,I)}},[c,C,r,I]),j=(0,l.useCallback)(function(){u(!1)},[]),A=(0,l.useRef)();return(0,l.useEffect)(function(){var b=A.current;return b.addEventListener("mousedown",S,{passive:!1}),b.addEventListener("touchstart",S,{passive:!1}),b.addEventListener("mousemove",x,{passive:!1}),b.addEventListener("touchmove",x,{passive:!1}),b.addEventListener("mouseup",j,{passive:!1}),b.addEventListener("touchend",j,{passive:!1}),function(){b.removeEventListener("mousedown",S),b.removeEventListener("touchstart",S),b.removeEventListener("mousemove",x),b.removeEventListener("touchmove",x),b.removeEventListener("mouseup",j),b.removeEventListener("touchend",j)}},[S,x,j]),(0,R.jsx)("div",(0,U.Z)({ref:A},t))},Dt=function(n){var r=n.src,e=n.active,t=n.onClick,i=n.index,d=n.showActive,c=n.setImgInfo,u=(0,l.useMemo)(function(){return(0,U.Z)({width:0,height:0,naturalWidth:0,naturalHeight:0,top:0,bottom:0},n.imgInfo)},[n.imgInfo]),m=(0,l.useMemo)(function(){return u.width?u.naturalWidth/document.documentElement.clientWidth:1},[u]),E=(0,l.useCallback)(function(y){var S=y.target,x=S.width,j=S.height,A=S.naturalWidth,b=S.naturalHeight,k={img:y.target,width:x,height:j,naturalWidth:A,naturalHeight:b,top:u.top||0,bottom:u.bottom||b};c((0,U.Z)((0,U.Z)({},u),k))},[u,c]),C=(0,l.useCallback)(function(y,S){var x=S.top+y*m;x<0?x=0:x>S.bottom&&(x=S.bottom),c((0,U.Z)((0,U.Z)({},u),{},{bottom:S.bottom,top:x}))},[c,u,m]),P=(0,l.useCallback)(function(y,S){var x=S.bottom+y*m;x<S.top?x=S.top:x>u.naturalHeight&&(x=u.naturalHeight),c((0,U.Z)((0,U.Z)({},u),{},{bottom:x,top:S.top}))},[u,c,m]),g=(0,l.useMemo)(function(){return{top:"-".concat(u.top/m,"px")}},[u,m]),O=(0,l.useMemo)(function(){return{opacity:e||d?1:.5,height:(u.bottom-u.top)/m,overflow:e?"":"hidden"}},[e,u,d,m]),I=(0,l.useCallback)(function(y){return y.preventDefault(),y.stopPropagation(),t(i),!1},[t,i]);return(0,R.jsxs)("div",{className:J().container,style:O,children:[(0,R.jsx)("div",{className:J().imgWrapper,children:(0,R.jsx)("img",{src:r,onLoad:E,style:g})}),(0,R.jsx)("div",{className:"".concat(J().bgWrapper," ").concat(e?J().bgActiveWrapper:""),children:(0,R.jsx)("img",{src:r,style:g})}),(0,R.jsxs)("div",{className:"".concat(J().resizer," ").concat(e?J().activeResizer:""),onClick:I,children:[(0,R.jsx)(Ue,{className:J().topResizer,baseInfo:u,onMove:C}),(0,R.jsx)(Ue,{className:J().bottomResizer,baseInfo:u,onMove:P})]})]})},Ut=(0,l.memo)(Dt),Ht=function(n){if(!!n.length){var r=n[0].naturalWidth,e=n.reduce(function(P,g){return P+(g.bottom-g.top)},0),t=document.createElement("canvas"),i=t.getContext("2d");t.width=r,t.height=e;for(var d=0,c=0;c<n.length;c++){var u=n[c],m=u.bottom-u.top;i.drawImage(u.img,0,u.top,r,m,0,d,r,m),d+=m}var E=t.toDataURL("image/png"),C=document.createElement("a");C.download="longScreenCapture_".concat(Date.now(),".png"),C.href=E,C.click()}},$t=Ht,ie=w(28991),Vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},Yt=Vt,He=w(50065),$e=function(n,r){return l.createElement(He.Z,(0,ie.Z)((0,ie.Z)({},n),{},{ref:r,icon:Yt}))};$e.displayName="RedoOutlined";var Ft=l.forwardRef($e),Jt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Kt=Jt,Ve=function(n,r){return l.createElement(He.Z,(0,ie.Z)((0,ie.Z)({},n),{},{ref:r,icon:Kt}))};Ve.displayName="DownloadOutlined";var Qt=l.forwardRef(Ve),Ye=30,Xt=function(n){var r=n.imgInfos,e=n.setImgInfos,t=n.setPage,i=(0,l.useRef)(),d=(0,l.useState)(-1),c=(0,V.Z)(d,2),u=c[0],m=c[1],E=(0,l.useState)(!0),C=(0,V.Z)(E,2),P=C[0],g=C[1],O=(0,l.useMemo)(function(){var f;return(f=r[0])!==null&&f!==void 0&&f.width?r[0].naturalWidth/r[0].width:1},[r]),I=(0,l.useMemo)(function(){return u===-1},[u]),y=(0,l.useMemo)(function(){var f=r.reduce(function(v,p){return v+((p==null?void 0:p.top)||0)},0)/O||0;return f+Ye},[r,O]),S=(0,l.useMemo)(function(){var f=r[r.length-1]||{},v=((f.naturalHeight-f.bottom)/O||0)+Ye;return v},[r,O]),x=(0,l.useMemo)(function(){return{paddingTop:y,paddingBottom:S,opacity:P?0:1}},[y,S,P]);(0,l.useEffect)(function(){if(P){var f=!r.find(function(v){return!v.height});f&&(g(!1),i.current.scrollTop=y)}},[r,P,y]);var j=(0,l.useCallback)(function(f){u===f?(m(-1),i.current.scrollTop<y&&i.current.scrollTo(0,y)):m(f)},[u,y]),A=(0,l.useCallback)(function(){m(-1)},[]),b=(0,l.useCallback)(function(f,v){return e(function(p){return p.map(function(T,D){return f===D?v:T})})},[e]),k=(0,l.useState)(!1),L=(0,V.Z)(k,2),N=L[0],W=L[1],s=(0,l.useCallback)(function(){i.current.scrollTop<y&&I&&(N||i.current.scrollTo(0,y))},[y,N,I]),o=(0,l.useCallback)(function(){W(!0)},[]),h=(0,l.useCallback)(function(){i.current.scrollTop<y&&I&&i.current.scrollTo(0,y),W(!1)},[y,I]);return(0,l.useEffect)(function(){i.current.scrollTop=i.current.scrollTop},[y]),(0,R.jsx)("div",{ref:i,className:oe().container,onClick:A,onScroll:s,onTouchStart:o,onTouchEnd:h,children:(0,R.jsxs)("div",{className:oe().wrapper,style:x,children:[r.map(function(f,v){return(0,R.jsx)(Ut,{src:f.src,active:u===v,index:v,showActive:I,imgInfo:r[v],setImgInfo:function(T){return b(v,T)},onClick:j},v)}),(0,R.jsx)(be,{shape:"circle",type:"primary",onClick:function(){et(),t(q.CHOSE_PAGE)},className:oe().reloadButton,danger:!0,children:(0,R.jsx)(Ft,{})}),(0,R.jsx)(be,{shape:"circle",type:"primary",onClick:function(){return $t(r)},className:oe().downloadButton,children:(0,R.jsx)(Qt,{})})]})})},qt=Xt,q={CHOSE_PAGE:0,SLICE_PAGE:1},_t=function(){var a=(0,l.useState)(q.CHOSE_PAGE),n=(0,V.Z)(a,2),r=n[0],e=n[1],t=(0,l.useState)([]),i=(0,V.Z)(t,2),d=i[0],c=i[1];return r===q.SLICE_PAGE?(0,R.jsx)(qt,{imgInfos:d,setPage:e,setImgInfos:c}):(0,R.jsx)(Mt,{setPage:e,setImgInfos:c})}}}]);
